(this.webpackJsonpcpu_allocation=this.webpackJsonpcpu_allocation||[]).push([[0],{155:function(e){e.exports=JSON.parse('{"a":["FCFS","Priority","SJF"]}')},194:function(e,t,a){e.exports=a(389)},199:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(40),c=a.n(i),s=(a(199),a(24)),l=a(10),o=a(34),m=a(154),u=a(17),p=a(9),d={pids:[],algorithm:"",isWork:!1},h={algorithmListShow:!1},_={pidTasks:[],name:"",priority:1},E=Object(o.c)({allocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ALGORITHM":var a=t.payload;return Object(p.a)({},e,{algorithm:a});case"ADD_PID":var n=t.payload,r=Object(u.a)(e.pids);return r.push(n),Object(p.a)({},e,{pids:r});case"RESET_PIDS":return Object(p.a)({},e,{pids:d.pids});case"SIMULATION_WORK":var i=t.payload;return Object(p.a)({},e,{isWork:i});default:return e}},componentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ALGORITHM_LIST":var a=!e.algorithmListShow;return Object(p.a)({},e,{algorithmListShow:a});default:return e}},pid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_TASK_PID":var a=t.payload,n=a.value,r=a.index,i=Object(u.a)(e.pidTasks);return i[r]=n,Object(p.a)({},e,{pidTasks:i});case"NAME_PID":var c=t.payload;return c.length<10?Object(p.a)({},e,{name:c}):e;case"PRIORITY_PID":var s=t.payload,l=s[s.length-1];return"e"!==l&&s<=10&&s>=1?Object(p.a)({},e,{priority:s}):e;case"RESET_PID":return _;case"ADD_TASK_TO_PID":var o=t.payload,m=Object(u.a)(e.pidTasks);return m.push(o),Object(p.a)({},e,{pidTasks:m});default:return e}}}),g=function(){return{type:"SHOW_ALGORITHM_LIST"}},f=a(155),b=function(e){var t=e.onClick,a=e.text,n=e.className,i=e.disabled;return r.a.createElement("button",{disabled:i,onClick:t,className:n},a)},v=Object(l.b)((function(e){return{algorithmText:e.allocation.algorithm,showList:e.componentState.algorithmListShow}}),{changeAlgorithm:function(e){return{type:"CHANGE_ALGORITHM",payload:e}}})((function(e){var t=e.algorithmText,a=e.changeAlgorithm,n=e.showList;return r.a.createElement("div",{className:"algorithm-list"},n?r.a.createElement("ul",{className:"algorithm-list__list"},f.a.map((function(e){return r.a.createElement("li",{key:e,className:"algorithm-list__item"},"        ",r.a.createElement(b,{text:e,onClick:function(){a(e)},className:t===e?"button button--algorithm-list  button--active":"button button--algorithm-list"}))}))):null)})),k=Object(l.b)((function(e){return{isWork:e.allocation.isWork}}),{showAlgorithmList:g})((function(e){var t=e.showAlgorithmList,a=e.isWork;return r.a.createElement("nav",{className:"navigation"},r.a.createElement("ul",{className:"navigation__list"},r.a.createElement("li",{className:"navigation__item"},r.a.createElement(s.b,{to:"/",exact:!0,activeClassName:"navigation__link--active",className:"navigation__link"},"Home")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(s.b,{to:"/createPIDs",exact:!0,activeClassName:"navigation__link--active",className:"navigation__link"},"Stw\xf3rz procesy")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(s.b,{to:"/showSimulation",exact:!0,activeClassName:"navigation__link--active",className:"navigation__link"},"Poka\u017c symulacj\u0119")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(s.b,{to:"/showStatistics",exact:!0,activeClassName:"navigation__link--active",className:"navigation__link"},"Poka\u017c statystyki")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(s.b,{to:"/showChart",exact:!0,activeClassName:"navigation__link--active",className:"navigation__link"},"Poka\u017c wykres")),r.a.createElement("li",{className:"navigation__item navigation__item--special"},r.a.createElement(b,{className:"button button--navigation",disabled:a,onClick:function(){t()},text:"wybierz algorytm"}),r.a.createElement(v,null))))})),N=function(e){var t=e.title;return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},t),r.a.createElement(k,null))},y=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__text"},"Lorem"))},O=a(28),P=function(e){var t=e.task;return r.a.createElement("li",{className:"taskList__item"},r.a.createElement("p",{className:"taskList__text"},t))},j=function(e){var t=e.name,a=e.tasks,n=e.priority,i=e.id;return r.a.createElement("li",{className:"pid"},r.a.createElement("p",{className:"pid__name"},t,"(",i,")"),r.a.createElement("p",{className:"pid__priority"},"priorytet: ",n),r.a.createElement("ul",{className:"pid__list"},a.map((function(e,t){return r.a.createElement(P,{key:t,task:e})}))))},x=Object(l.b)((function(e){return{pids:e.allocation.pids}}),{resetPids:function(){return{type:"RESET_PIDS"}}})((function(e){var t=e.pids,a=e.resetPids;return r.a.createElement("aside",{className:"aside"},r.a.createElement("ul",{className:"aside__list"},t.map((function(e){var t=e.name,a=e.tasks,n=e.priority,i=e.id;return r.a.createElement(j,{key:i,name:t,tasks:a,priority:n,id:i})}))),t.length>0?r.a.createElement(b,{text:"reset",onClick:a,className:"button button--aside aside__button"}):null)})),w=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("h1",{className:"home__text"},"HOME"))},I=a(8),C=Object(l.b)((function(e){return{}}),{editTaskPid:function(e,t){return{type:"EDIT_TASK_PID",payload:{index:e,value:t}}}})((function(e){var t=e.index,a=e.option,i=e.editTaskPid,c=Object(n.useState)("CPU"===a),s=Object(I.a)(c,2),l=s[0],o=s[1],m=Object(n.useState)("IO"===a),u=Object(I.a)(m,2),p=u[0],d=u[1];return r.a.createElement("div",{className:"choose-task"},r.a.createElement("label",{className:"choose-task__label"},r.a.createElement("input",{type:"checkbox",value:"CPU",className:"choose-task__checkbox",onChange:function(){},onClick:function(){o(!0),d(!1),i(t,"CPU")},checked:l}),r.a.createElement("p",{className:"choose-task__text"},"CPU")),r.a.createElement("label",{className:"choose-task__label"},r.a.createElement("input",{type:"checkbox",value:"IO",className:"choose-task__checkbox",onChange:function(){},onClick:function(){o(!1),d(!0),i(t,"IO")},checked:p}),r.a.createElement("p",{className:"choose-task__text"},"IO")))})),S=function(e){var t=e.onChange,a=e.placeholder,n=e.label,i=e.className,c=e.value;return r.a.createElement("label",null,r.a.createElement("p",null,n),r.a.createElement("input",{type:"text",placeholder:a,onChange:t,className:i,value:c}))},T=function(e){var t=e.onChange,a=e.label,n=e.className,i=e.value;return r.a.createElement("label",null,r.a.createElement("p",null,a),r.a.createElement("input",{type:"number",onChange:t,className:n,value:i}))},A=Object(l.b)((function(e){return{tasks:e.pid.pidTasks,id:e.allocation.pids.length,name:e.pid.name,priority:e.pid.priority}}),{addTaskToPid:function(){return{type:"ADD_TASK_TO_PID",payload:"CPU"}},namePid:function(e){return{type:"NAME_PID",payload:e}},priorityPid:function(e){return{type:"PRIORITY_PID",payload:e}},addPid:function(e){return{type:"ADD_PID",payload:e}},resetPid:function(){return{type:"RESET_PID"}}})((function(e){var t=e.tasks,a=e.addTaskToPid,n=e.id,i=e.name,c=e.priority,s=e.namePid,l=e.priorityPid,o=e.addPid,m=e.resetPid;return console.log(i),r.a.createElement("div",{className:"create-pid"},r.a.createElement("h3",{className:"create-pid__id"},"id: "+n),r.a.createElement(S,{placeholder:"nazwa procesu",onChange:function(e){return s(e.target.value)},label:"nazwa procesu",value:i,className:"create-pid__input"}),r.a.createElement(T,{label:"Priorytet(1-10)",value:c,onChange:function(e){return l(e.target.value)},className:"create-pid__input"}),r.a.createElement("ul",{className:"create-pid__list"},t.map((function(e,t){return r.a.createElement("li",{className:"create-pid__item",key:t},r.a.createElement(C,{option:e,index:t}))}))),r.a.createElement("div",{className:"create-pid__button-container"},r.a.createElement(b,{text:"dodaj zadanie",className:"button button--create-pid",onClick:function(){return a()}}),t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{text:"dodaj proces",className:"button button--create-pid",onClick:function(){o({id:n,name:i,priority:c,tasks:t}),m()}}),r.a.createElement(b,{text:"anuluj proces",className:"button button--create-pid",onClick:function(){m()}})):null))})),D=a(30),L=function(e,t){var a;switch(t){case"Priority":(a=Object(u.a)(e)).sort((function(e,t){return t.priority-e.priority}));break;case"SJF":(a=Object(u.a)(e)).sort((function(e,t){return e.tasks.length-t.tasks.length}));break;case"FCFS":default:a=Object(u.a)(e)}return a},U=a(35),z=function(e){for(var t=[],a=0;a<e.length;a++){for(var n=e[a].tasks,r={},i=0,c=0,s=0,l=0,o=0;o<n.length;o++)"CPU"===n[o]?(c>0&&(l++,r=Object(p.a)({},r,Object(U.a)({},"IO"+l,c)),c=0),i++):"IO"===n[o]&&(i>0&&(s++,r=Object(p.a)({},r,Object(U.a)({},"CPU"+s,i)),i=0),c++),o===n.length-1&&("CPU"===n[o]?(s++,r=Object(p.a)({},r,Object(U.a)({},"CPU"+s,i))):(l++,r=Object(p.a)({},r,Object(U.a)({},"IO"+l,c))));t.push(Object(p.a)({id:e[a].id,name:e[a].name},r,{waiting:e[a].waiting}))}return t},W=function(e){for(var t=[],a=0;a<e.length;a++){for(var n=0,r=0;r<a;r++)n+=e[r].tasks.length;t.push(Object(p.a)({},e[a],{waiting:n}))}return t},R=function(e){for(var t=0,a=0,n=0;n<e.length;n++){for(var r=e[n].tasks,i=0,c=0,s=0,l=0,o=0;o<r.length;o++)"CPU"===r[o]?(c>0&&(l++,c=0),i++):"IO"===r[o]&&(i>0&&(s++,i=0),c++),o===r.length-1&&("CPU"===r[o]?s++:l++);l>t&&(t=l),s>a&&(a=s)}return function(e,t){for(var a=[],n=0,r=0;n+r<e+t;)n<t&&(n++,a.push({key:"CPU"+n,type:"CPU"})),r<e&&(r++,a.push({key:"IO"+r,type:"IO"}));return a.push({key:"PCU"+(n+1),type:"CPU"}),a.push({key:"IO"+(r+1),type:"IO"}),console.log(a),a}(t,a)},M=Object(l.b)((function(e){return{pids:e.allocation.pids,algorithm:e.allocation.algorithm}}),{})((function(e){var t=e.pids,a=e.algorithm,i=Object(n.useState)([]),c=Object(I.a)(i,2),s=c[0],l=c[1],o=Object(n.useState)([]),m=Object(I.a)(o,2),u=m[0],p=m[1];Object(n.useEffect)((function(){var e;t.length>0&&(e=L(t,a),p(R(e)),e=W(e),e=z(e),console.log(a),l(e))}),[l,a,p]);return r.a.createElement("div",{className:"chart"},0===t.length?r.a.createElement("h3",{className:"error error--big"},"Prosz\u0119 stworzy\u0107 proces"):""===a?r.a.createElement("h3",{className:"error error--big"},"Prosz\u0119 wybra\u0107 algorytm"):r.a.createElement(D.b,{layout:"vertical",width:700,height:500,data:s,margin:{top:20,right:30,left:20,bottom:5}},r.a.createElement(D.c,{strokeDasharray:"3 3"}),r.a.createElement(D.e,{type:"number"}),r.a.createElement(D.f,{type:"category",dataKey:"id"}),r.a.createElement(D.d,null),r.a.createElement(D.a,{dataKey:"waiting",stackId:"a",fill:"rgba(0,0,0,0)"}),u.map((function(e){var t=e.key,a=e.type;return r.a.createElement(D.a,{dataKey:t,stackId:"a",fill:"CPU"===a?"#FE9E76":"#F5E027"})}))))})),F=function(e){var t=e.name,a=e.task,n=e.priority,i=e.id;return r.a.createElement("li",{className:"pid-task"},r.a.createElement("p",{className:"pid-task__name"},t+"("+i+")"),r.a.createElement("p",{className:"pid-task__priority"},"prioritet: "+n),r.a.createElement("p",{className:"pid-task__task"},a))},H=function(e){for(var t=[],a=0;a<e.length;a++)for(var n=0;n<e[a].tasks.length;n++)t.push({task:e[a].tasks[n],pid:e[a].name,id:e[a].id,priority:e[a].priority});return t},K=Object(l.b)((function(e){return{pids:e.allocation.pids,algorithm:e.allocation.algorithm,isWork:e.allocation.isWork,algorithmListShow:e.componentState.algorithmListShow}}),{simulationWork:function(e){return{type:"SIMULATION_WORK",payload:e}},showAlgorithmList:g})((function(e){var t=e.pids,a=e.simulationWork,i=e.isWork,c=e.algorithm,s=e.algorithmListShow,l=e.showAlgorithmList,o=Object(n.useState)([]),m=Object(I.a)(o,2),p=m[0],d=m[1],h=[];return r.a.createElement("div",{className:"simulation"},0===t.length?r.a.createElement("h3",{className:"error error--big"},"Prosz\u0119 stworzy\u0107 proces"):""===c?r.a.createElement("h3",{className:"error error--big"},"Prosz\u0119 wybra\u0107 algorytm"):r.a.createElement(b,{text:i?"resetuj symulacje":"Uruchom symulacje",className:"button button--simulation",onClick:function(){if(console.log(p),a(!i),s&&l(),!i){var e=L(t,c);console.log(e),h=H(e),function e(){p.push(h[p.length]),d(Object(u.a)(p)),p.length<h.length&&setTimeout((function(){e()}),200)}()}i&&(d([]),a(!i))}}),r.a.createElement("ul",{className:"simulation__list"},p.map((function(e,t){var a=e.task,n=e.pid,i=e.id,c=e.priority;return r.a.createElement(F,{key:i+":"+t,name:n,task:a,id:i,priority:c})}))))})),G=function(e){var t=W(e),a=0;return t.forEach((function(e){a+=e.waiting})),a},J=function(e){var t=0;return e.forEach((function(e){var a=e.tasks;t+=a.length})),t},B=function(e){var t=0;return e.forEach((function(e){e.tasks.forEach((function(e){"CPU"===e&&t++}))})),t},Y=function(e){var t=0;return e.forEach((function(e){e.tasks.forEach((function(e){"IO"===e&&t++}))})),t},$=function(e){var t=e.name,a=e.id,n=e.waiting,i=e.tasks,c=e.dataPids;return r.a.createElement("li",{className:"statistics__item"},r.a.createElement("p",{className:"statistics__text"},t,"(",a,")"),r.a.createElement("p",{className:"statistics__text"},"waiting: ",n),r.a.createElement("p",{className:"statistics__text"},"response: ",n),r.a.createElement("p",{className:"statistics__text"},"GPU: ",B([{tasks:i}])/B(c)*100,"%"),r.a.createElement("p",{className:"statistics__text"},"IO: ",Y([{tasks:i}])/Y(c)*100,"%"),r.a.createElement("p",{className:"statistics__text"},"Turnaround: ",i.length+n))},q=Object(l.b)((function(e){return{pids:e.allocation.pids,algorithm:e.allocation.algorithm}}),{})((function(e){var t=e.pids,a=e.algorithm,i=Object(n.useState)(t),c=Object(I.a)(i,2),s=c[0],l=c[1];return Object(n.useEffect)((function(){l(L(t,a))}),[a,l,t]),r.a.createElement("div",{className:"statistics"},0===t.length?r.a.createElement("h3",{className:"error error--big"},"Prosz\u0119 stworzy\u0107 proces"):""===a?r.a.createElement("h3",{className:"error error--big"},"Prosz\u0119 wybra\u0107 algorytm"):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"statistics__list"},W(s).map((function(e){var t=e.waiting,a=e.tasks,n=e.id,i=e.name;return r.a.createElement($,{key:n,id:n,name:i,waiting:t,tasks:a,dataPids:s})}))),r.a.createElement("div",{className:"statistics__container"},r.a.createElement("p",{className:"statistics__text statistics__text--important"},"Avg. Response time: ",Math.round(G(s)/s.length*100)/100),r.a.createElement("p",{className:"statistics__text statistics__text--important"},"Avg. Waiting time: ",Math.round(G(s)/s.length*100)/100),r.a.createElement("p",{className:"statistics__text statistics__text--important"},"Avg. Turnaround time: ",J(s)/s.length),r.a.createElement("p",{className:"statistics__text statistics__text--important"},"Efficienc: ",B(s)/J(s)*100,"%"),r.a.createElement("p",{className:"statistics__text statistics__text--important"},"Throughtput: ",s.length/J(s)))))})),Q=function(){return r.a.createElement("div",{className:"error"},r.a.createElement("h2",{className:"error__text"},"Przepraszamy strona nie znalezniona"))},V=function(){return r.a.createElement("main",{className:"main"},r.a.createElement(x,null),r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/",exact:!0,component:w}),r.a.createElement(O.a,{path:"/createPIDs",exact:!0,component:A}),r.a.createElement(O.a,{path:"/showSimulation",exact:!0,component:K}),r.a.createElement(O.a,{path:"/showChart",exact:!0,component:M}),r.a.createElement(O.a,{path:"/showStatistics",exact:!0,component:q}),r.a.createElement(O.a,{component:Q})))},X=(a(388),Object(o.d)(E,{},Object(o.a)(m.a)));var Z=function(){return r.a.createElement(s.a,null,r.a.createElement(l.a,{store:X},r.a.createElement("div",{className:"App"},r.a.createElement(N,{title:"CPU Allocation"}),r.a.createElement(V,null),r.a.createElement(y,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[194,1,2]]]);
//# sourceMappingURL=main.584d6ee1.chunk.js.map